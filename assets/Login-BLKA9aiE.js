import{k as c,r as m,a as f,o as _,c as h,b as e,w as l,v as u,u as a,d as w,e as g,f as x,g as k,h as v,i as b}from"./index-DW0o-UDa.js";const V=e("div",{id:"titleHeader"},[e("h2",null,"登录")],-1),B=e("label",{for:"username"},"账号:",-1),C=e("label",{for:"password"},"密码:",-1),T=e("br",null,null,-1),S={__name:"Login",setup(y){let n=c();console.log("用户仓库:",n);const d=v();let o=m({username:"",password:""});const i=()=>{o.username==""||o.password==""?alert("信息缺失"):b({method:"post",url:"exam_login",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:o}).then(t=>{t.data.status==200?(console.log("请求成功:",t),n.changeToken(t.data.token),n.changeUserInfo(t.data.userinfo),d.push("/home/index")):alert("登录失败")}).catch(t=>{alert("失败"),console.log("请求失败:",t)})};return(t,s)=>{const p=f("router-link");return _(),h("form",{class:"formBox",onSubmit:s[2]||(s[2]=k(()=>{},["prevent"]))},[V,e("p",null,[B,l(e("input",{type:"text",id:"username",placeholder:"请输入您的账号","onUpdate:modelValue":s[0]||(s[0]=r=>a(o).username=r)},null,512),[[u,a(o).username]])]),e("p",null,[C,l(e("input",{type:"password",id:"password",placeholder:"请输入您的密码","onUpdate:modelValue":s[1]||(s[1]=r=>a(o).password=r)},null,512),[[u,a(o).password]])]),e("button",{onClick:i},"登录"),T,w(p,{to:"/register"},{default:g(()=>[x("还没有账号?立即注册")]),_:1})],32)}}};export{S as default};
